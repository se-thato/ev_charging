<nav class="navbar navbar-expand-lg navbar-dark justify-content-center custom-navbar neon-navbar">
  <a class="navbar-brand main-heading" href="{% url '' %}">VoltHub</a>

  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarNavDropdown"
    aria-controls="navbarNavDropdown"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse text-center" id="navbarNavDropdown">
    <ul class="navbar-nav mr-auto">
      {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url '' %}">Home <i class="fa fa-home" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'dashboard' %}">Dashboard <i class="fa fa-th-large"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'stations' %}">Charging Points <i class="fa fa-car" aria-hidden="true"></i></a>
        </li>
                <li class="nav-item">
          <a class="nav-link" href="{% url 'shop_home' %}">Shop <i class="fa fa-shopping-cart" aria-hidden="true"></i></a>
        </li>
              {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url '' %}">Home <i class="fa fa-home" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'stations' %}">Charging Points <i class="fa fa-car" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'register' %}">Register <i class="fa fa-regular fa-user-plus" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">Login <i class="fa fa-sign-in" aria-hidden="true"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'about_us' %}">About Us <i class="fa fa-info-circle"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'contact_us' %}">Contact Us <i class="fa fa-solid fa-address-card" aria-hidden="true"></i></a>
        </li>
        
      {% endif %}
    </ul>

    <form class="d-flex ms-auto neon-search" role="search">
      <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-light" type="submit">
        <i class="bi bi-search"></i>
        Submit
      </button>
    </form>

    {% if user.is_authenticated %}
    <div class="nav-item dropdown user-dropdown">
      <a class="nav-link dropdown-toggle p-0" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="User menu">
        <span class="user-chip">
          {% if user.profile and user.profile.profile_photo %}
            <img src="{{ user.profile.profile_photo.url }}" alt="User avatar" width="30" height="30" class="user-avatar" />
          {% else %}
            <span class="user-initials">{{ user.username|slice:':1'|upper }}</span>
          {% endif %}
          <span class="d-none d-md-inline user-name">{{ user.username }}</span>
        </span>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
        <a class="dropdown-item" href="{% url 'profile' %}">My Profile</a>
        <a class="dropdown-item" href="{% url 'dashboard' %}">Dashboard</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="{% url 'logout-user' %}">Sign out</a>
      </div>
    </div>
    {% endif %}
  </div>
</nav>
